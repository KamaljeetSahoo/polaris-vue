import dedent from 'ts-dedent'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { MediaCard } from '@/polaris-vue';

<Meta
  title="Components / Structure"
  component={ MediaCard }
  argTypes={{
    title: {
      name: "title",
      description: "Heading content",
      control: { display: "true" },
      table: {
        defaultValue: {
          summary: "",
        },
        type: {
          summary: string,
        },
      },
    },
    description: {
      name: "description",
      description: "Body content",
      control: { display: "true" },
      table: {
        defaultValue: {
          summary: "",
        },
        type: {
          summary: null,
        },
      },
    },
    popoverActions: {
      name: "popoverActions",
      description: "Action list items to render in ellipsis popover",
      control: { disable: true, },
      table: {
        defaultValue: {
          summary: "",
        },
        type: {
          summary: "ActionListItemDescriptor[]",
        },
      },
    },
    portrait: {
      name: "portrait",
      description: "Whether or not card content should be laid out vertically",
      table: { defaultValue: { summary: 'false' }, },
    },
    primaryAction: {
      name: "primaryAction",
      description: "Main call to action, rendered as a basic button",
      control: { disable: true, },
    },
    secondaryAction: {
      name: "secondaryAction",
      description: "Secondary call to action, rendered as a plain button",
      control: { disable: true, },
    },
    size: {
      name: "size",
      description: "Size of the visual media in the card",
      options: ["small", "medium"],
      control: { type: "select" },
      table: {
        defaultValue: {
          summary: "medium",
        },
        type: {
          summary: null,
        },
      },
    },
  }}
/>

export const Template = (args) => ({
  components: { MediaCard },
  setup() {
    return { args };
  },
  template: `
    <MediaCard
        v-bind="args"
        title="Get closer to launching your store"
        :primaryAction="{ content: 'Add a product', onAction: () => { } }"
        :secondaryAction="{ content: 'Learn more', plain: true, onAction: () => { } }"
        description="Start your business with eye-catching inventory."
        :popoverActions="[{content: 'Dismiss', onAction: () => {}}]"
    >
      <img
        alt=""
        width="100%"
        height="100%"
        style={{
        objectFit: 'cover',
        objectPosition: 'center',
        }}
        src="https://burst.shopifycdn.com/photos/business-woman-smiling-in-office.jpg?width=1850"
      />
    </MediaCard>
  `,
});

# Media card

Media cards provide a consistent layout to present visual information to merchants. Visual media is used to provide additional context to the written information it's paired with.

<Canvas>
  <Story
    name="Media Card"
    args={{
      size: 'medium',
      portrait: false,
    }}
    parameters={{
      docs: {
        source: {
          code: dedent`
            <MediaCard
                title="Get closer to launching your store",
                :primaryAction="{ content: 'Add a product', onAction: () => { } }",
                :secondaryAction="{ content: 'Learn more', plain: true, onAction: () => { } }"
                description="Start your business with eye-catching inventory."
                :popoverActions="[{content: 'Dismiss', onAction: () => {}}]"
            >
              <img
                alt=""
                width="100%"
                height="100%"
                style={{
                objectFit: 'cover',
                objectPosition: 'center',
                }}
                src="https://burst.shopifycdn.com/photos/business-woman-smiling-in-office.jpg?width=1850"
              />
            </MediaCard>
          `,
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Media Card"/>
