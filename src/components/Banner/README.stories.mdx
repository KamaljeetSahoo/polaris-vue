import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { Banner } from '@/polaris-vue';
import dedent from 'ts-dedent';

<Meta
  title="Components / Feedback indicators / Banner"
  component={ Banner }
  argTypes={{
    default: {
      table: { disable: true },
    },
    icon: {
      table: {
        type: {
          summary: 'IconSource',
        },
      },
    },
    status: {
      control: {
        type: 'select',
        options: ['info', 'success', 'warning', 'critical'],
      },
      table: {
        type: {
          summary: 'success | info | warning | critical',
        },
      },
    },
    action: {
      table: {
        type: {
          summary: 'Action',
        },
      },
    },
    dismiss: {
      description: 'Callback when banner is dismissed',
      control: { disable: true },
      table: {
        type: {
          summary: '() => void',
        },
      },
    },
  }}
/>

export const Template = (args) => ({
  components: { Banner },
  setup() {
    return { args };
  },
  template: `<Banner
    v-bind="args"
    :action="{ content: 'Edit variant weights', url:'https://google.com' }"
    :secondaryAction="{ content: 'View all variants', url:'https://google.com' }"
    @dismiss="dismissHandler"
  >
    <p>Add weights to show accurate rates at checkout and when buying shipping labels in Shopify.</p>
  </Banner>`,
});

# Banner

Informs merchants about important changes or persistent conditions. Use this component if you need to communicate to merchants in a prominent way. Banners are placed at the top of the page or section they apply to, and below the page or section header.

<Canvas>
  <Story
    name="Banner"
    height="200px"
    args={{
      status: 'warning',
      title: 'Some of your product varisants are missing weights',
    }}
    parameters={{
      docs: {
        source: {
          code: dedent`<Banner
            title="Some of your product variants are missing weights"
            status="warning"
            :action="{ content: 'Edit variant weights', url:'https://google.com' }"
            :secondaryAction="{ content: 'View all variants', url:'https://google.com' }"
            @dismiss="dismissHandler"
          >
            <p>Add weights to show accurate rates at checkout and when buying shipping labels in Shopify.</p>
          </Banner>`,
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Banner" />

### **Action Props**

| Prop             | Type                          |
| ---------------- | ----------------------------- |
| id?              | String       |
| content?         | String       |
| accessibilityLabel?  | Boolean  |
| url?             | String       |
| external?        | String       |
| disabled?        | Boolean      |
| loading?         | Boolean      |
| onAction?()      | void         |
| onMouseEnter?()  | void         |
| onTouchStart?()  | void         |
